# Lab11文档

> 袁乐天 19302010019

## Cookie和Session的作用

HTTP本身是无状态协议,但是服务器可以有合理理由在一个或多个Web会话中间通过一系列请求保持信息。

由于HTTP的无状态性，不通过额外的手段，是无法知道用户的身份、状态等信息的，这时候Cookie或Session就派上了用处，可以通过Cookie或Session来维护用户与服务器会话中的状态。

## Cookie的优缺点

### 优点

* cookie是存储在客户端的。因而能够减少服务器端的开销。
* cookie是幂等的，便于SEO

### 缺点

* 黑客可以篡改cookie伪装用户身份，进行cookie欺骗。
* cookie大小限制一般为4KB，对于复杂的存储需求来说是不够用的。
* cookie被附加在每个http请求中，增加了流量负担
* 用户可能禁用cookie导致会话失败。

## Session的优缺点

### 优点

* session存储在服务器端，是相对来说比较安全的，并且服务器容易控制。因此适合存储敏感信息。

### 缺点

* 增加服务器负担，同时session的使用使得负载均衡难以实现。
* 服务器重启时信息容易丢失。

## 附注

lab11文档中的代码逻辑有些问题，因而我对其进行了一些修改。

由于`setcookie`是异步执行的，所以在`setcookie` 之后马上判断`isset($_COOKIE['Username'])`得到的结果是false。

所以效果就是，用户在正确输入用户名与密码，提交表单之后，是无法看到登陆成功的页面的，需要再刷新一下。

我参照老师的代码lec05_sample21_Cookie1.php进行了修改。